<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Set Theory – Statistical Analysis Using R: Online Notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-12021eed007fba3bd6590b6386ca949d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Statistical Analysis Using R: Online Notes</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./intro.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./sets.html"> 
<span class="menu-text">Set Theory</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./probability.html"> 
<span class="menu-text">Probability Theory</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-distributions" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Distributions</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-distributions">    
        <li>
    <a class="dropdown-item" href="./dist_bernoulli.html">
 <span class="dropdown-text">dist_bernoulli</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dist_binomial.html">
 <span class="dropdown-text">dist_binomial</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dist_chisquared.html">
 <span class="dropdown-text">dist_chisquared</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dist_exponential.html">
 <span class="dropdown-text">dist_exponential</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dist_f.html">
 <span class="dropdown-text">dist_f</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dist_geometric.html">
 <span class="dropdown-text">dist_geometric</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dist_negativebinomial.html">
 <span class="dropdown-text">dist_negativebinomial</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dist_normal.html">
 <span class="dropdown-text">The Normal Distribution</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dist_poisson.html">
 <span class="dropdown-text">dist_poisson</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dist_t.html">
 <span class="dropdown-text">dist_t</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dist_uniform.html">
 <span class="dropdown-text">dist_uniform</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Set Theory</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Placeholder</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Placeholder 2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sec-sets" id="toc-sec-sets" class="nav-link active" data-scroll-target="#sec-sets">Set theory</a>
  <ul class="collapse">
  <li><a href="#sets-unions-and-intersections" id="toc-sets-unions-and-intersections" class="nav-link" data-scroll-target="#sets-unions-and-intersections">Sets, unions and intersections</a></li>
  <li><a href="#combinatorics" id="toc-combinatorics" class="nav-link" data-scroll-target="#combinatorics">Combinatorics</a>
  <ul class="collapse">
  <li><a href="#ordered-arrangements-without-repetition" id="toc-ordered-arrangements-without-repetition" class="nav-link" data-scroll-target="#ordered-arrangements-without-repetition">Ordered arrangements without repetition</a></li>
  <li><a href="#ordered-arrangements-with-repetition" id="toc-ordered-arrangements-with-repetition" class="nav-link" data-scroll-target="#ordered-arrangements-with-repetition">Ordered arrangements with repetition</a></li>
  <li><a href="#ordered-subsets-without-repetition-permutations" id="toc-ordered-subsets-without-repetition-permutations" class="nav-link" data-scroll-target="#ordered-subsets-without-repetition-permutations">Ordered subsets without repetition (permutations)</a></li>
  <li><a href="#unordered-arrangements-without-repetition-combinations" id="toc-unordered-arrangements-without-repetition-combinations" class="nav-link" data-scroll-target="#unordered-arrangements-without-repetition-combinations">Unordered arrangements without repetition (combinations)</a></li>
  <li><a href="#all-possible-unordered-subsets-the-power-set" id="toc-all-possible-unordered-subsets-the-power-set" class="nav-link" data-scroll-target="#all-possible-unordered-subsets-the-power-set">All possible unordered subsets (the power set)</a></li>
  </ul></li>
  <li><a href="#probability-as-counting-cases" id="toc-probability-as-counting-cases" class="nav-link" data-scroll-target="#probability-as-counting-cases">Probability as counting cases</a></li>
  <li><a href="#putting-it-into-practice" id="toc-putting-it-into-practice" class="nav-link" data-scroll-target="#putting-it-into-practice">Putting it into practice</a>
  <ul class="collapse">
  <li><a href="#code-examples" id="toc-code-examples" class="nav-link" data-scroll-target="#code-examples">Code examples</a></li>
  <li><a href="#exercises-and-solutions" id="toc-exercises-and-solutions" class="nav-link" data-scroll-target="#exercises-and-solutions">Exercises and solutions</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Set Theory</h1>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<section id="sec-sets" class="level1">
<h1>Set theory</h1>
<p>These notes largely focus on parametric inference. Parameteric inference relies on distribution theory. Distribution theory relies on probability theory. Probability theory relies on set theory.</p>
<p>But we cannot cover all of set theory, probability theory, distributional theory, and inference in a single document or course. So in these first few chapters I am presenting small corners of each field to you for reference, no more than you need to build a solid understanding of the predictive models in the later chapters.</p>
<section id="sets-unions-and-intersections" class="level2">
<h2 class="anchored" data-anchor-id="sets-unions-and-intersections">Sets, unions and intersections</h2>
<p>Sets are collections of objects, and set theory helps us talk about these collections of objects: how many there are, which objects can be found in two different sets, etc. Set theory seems quite basic, but it’s very relevant to probability because one way to think about probability is to divide “the number of desired outcomes” of an experiment by “the number of total outcomes” of that experiment, which requires us to know how to arrange and count outcomes.</p>
<p>Let <span class="math inline">\(\mathcal{S}\)</span> be a <strong>set</strong>, that is, a collection of objects. The objects could be numbers, or words, or cars, or anything at all. We call each object that belongs to a set an <strong>element</strong>, and if an element named <span class="math inline">\(x\)</span> belongs to the set <span class="math inline">\(\mathcal{S}\)</span>, we write:</p>
<p><span class="math display">\[x \in \mathcal{S}\]</span></p>
<p>While if another element called <span class="math inline">\(y\)</span> does not belong to the set <span class="math inline">\(\mathcal{S}\)</span>, we write:</p>
<p><span class="math display">\[y \notin \mathcal{S}\]</span></p>
<p>If a set <span class="math inline">\(\mathcal{A}\)</span> contains all of the elements that belong to another set <span class="math inline">\(\mathcal{B}\)</span>, we say that <span class="math inline">\(\mathcal{B}\)</span> is a <strong>subset</strong> of <span class="math inline">\(\mathcal{A}\)</span>, which can be written:</p>
<p><span class="math display">\[\mathcal{B} \subseteq \mathcal{A}\]</span></p>
<p>Notice that this leaves the possibility that <span class="math inline">\(\mathcal{A}\)</span> and <span class="math inline">\(\mathcal{B}\)</span> are in fact equal, the same set. If we know that <span class="math inline">\(\mathcal{B}\)</span> is actually smaller than <span class="math inline">\(\mathcal{A}\)</span>, that is, <span class="math inline">\(\mathcal{A}\)</span> contains all the elements in <span class="math inline">\(\mathcal{B}\)</span> and also other elements not in <span class="math inline">\(\mathcal{B}\)</span>, then we say that <span class="math inline">\(\mathcal{B}\)</span> is a <strong>proper subset</strong> of <span class="math inline">\(\mathcal{A}\)</span> and we write:</p>
<p><span class="math display">\[\mathcal{B} \subset \mathcal{A}\]</span></p>
<p>Sometimes two sets share certain elements, and we want to identify only those elements which appear in both sets. We call this new set the <strong>intersection</strong>, and we could write:</p>
<p><span class="math display">\[\mathcal{A} \cap \mathcal{B} = \{x: x \in \mathcal{A} \textrm{ and } x \in \mathcal{B}\}\]</span> Other times we want to identify all of those elements which appear in either set. We call this new set the <strong>union</strong>, and we could write:</p>
<p><span class="math display">\[\mathcal{A} \cup \mathcal{B} = \{x: x \in \mathcal{A} \textrm{ or } x \in \mathcal{B}\}\]</span></p>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span>(<span class="fu">rep</span>(<span class="fl">0.1</span>,<span class="dv">4</span>)))</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">symbols</span>(<span class="at">x=</span><span class="dv">1</span>,<span class="at">y=</span><span class="dv">1</span>,<span class="at">circles=</span><span class="fl">0.8</span>,<span class="at">inches=</span><span class="cn">FALSE</span>,<span class="at">fg=</span><span class="st">'white'</span>,<span class="at">bg=</span><span class="st">'grey80'</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">3</span>),<span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">2</span>),<span class="at">xaxt=</span><span class="st">'n'</span>,<span class="at">yaxt=</span><span class="st">'n'</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="cn">NA</span>,<span class="at">ylab=</span><span class="cn">NA</span>,<span class="at">add=</span><span class="cn">FALSE</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x=</span><span class="fl">0.25</span>,<span class="at">y=</span><span class="fl">1.75</span>,<span class="at">label=</span><span class="st">'A'</span>,<span class="at">adj=</span><span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.5</span>),<span class="at">cex=</span><span class="fl">3.5</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="fl">1.4</span>,<span class="fl">2.2</span>),<span class="at">y=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>),<span class="at">labels=</span><span class="fu">c</span>(<span class="st">'x'</span>,<span class="st">'y'</span>),<span class="at">adj=</span><span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.5</span>),<span class="at">cex=</span><span class="fl">2.5</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">symbols</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fl">1.1</span>),<span class="at">y=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fl">0.9</span>),<span class="at">circles=</span><span class="fu">c</span>(<span class="fl">0.8</span>,<span class="fl">0.75</span>),<span class="at">inches=</span><span class="cn">FALSE</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">fg=</span><span class="fu">c</span>(<span class="st">'white'</span>,<span class="st">'black'</span>),<span class="at">bg=</span><span class="fu">c</span>(<span class="st">'grey80'</span>,<span class="cn">NA</span>),</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">3</span>),<span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">2</span>),<span class="at">xaxt=</span><span class="st">'n'</span>,<span class="at">yaxt=</span><span class="st">'n'</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="cn">NA</span>,<span class="at">ylab=</span><span class="cn">NA</span>,<span class="at">add=</span><span class="cn">FALSE</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="fl">0.25</span>,<span class="fl">1.8</span>),<span class="at">y=</span><span class="fu">c</span>(<span class="fl">1.7</span>,<span class="fl">0.3</span>),<span class="at">label=</span><span class="fu">c</span>(<span class="st">'A'</span>,<span class="st">'B'</span>),<span class="at">adj=</span><span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.5</span>),<span class="at">cex=</span><span class="fl">3.5</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="fl">0.8</span>,<span class="fl">1.1</span>,<span class="fl">1.4</span>),<span class="at">y=</span><span class="fu">c</span>(<span class="fl">0.7</span>,<span class="fl">1.1</span>,<span class="fl">0.9</span>),<span class="at">labels=</span><span class="fu">c</span>(<span class="st">'x'</span>,<span class="st">'y'</span>,<span class="st">'z'</span>),<span class="at">adj=</span><span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.5</span>),<span class="at">cex=</span><span class="fl">2.5</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">symbols</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fl">1.25</span>),<span class="at">y=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fl">1.25</span>),<span class="at">circles=</span><span class="fu">c</span>(<span class="fl">0.8</span>,<span class="fl">0.5</span>),<span class="at">inches=</span><span class="cn">FALSE</span>,</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">fg=</span><span class="fu">c</span>(<span class="st">'white'</span>,<span class="st">'black'</span>),<span class="at">bg=</span><span class="fu">c</span>(<span class="st">'grey80'</span>,<span class="cn">NA</span>),</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">3</span>),<span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">2</span>),<span class="at">xaxt=</span><span class="st">'n'</span>,<span class="at">yaxt=</span><span class="st">'n'</span>,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="cn">NA</span>,<span class="at">ylab=</span><span class="cn">NA</span>,<span class="at">add=</span><span class="cn">FALSE</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="fl">0.25</span>,<span class="fl">1.7</span>),<span class="at">y=</span><span class="fu">c</span>(<span class="fl">1.7</span>,<span class="fl">1.7</span>),<span class="at">label=</span><span class="fu">c</span>(<span class="st">'A'</span>,<span class="st">'B'</span>),<span class="at">adj=</span><span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.5</span>),<span class="at">cex=</span><span class="fl">3.5</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="fl">0.8</span>,<span class="fl">1.1</span>,<span class="fl">1.4</span>),<span class="at">y=</span><span class="fu">c</span>(<span class="fl">0.7</span>,<span class="fl">1.1</span>,<span class="fl">0.9</span>),<span class="at">labels=</span><span class="fu">c</span>(<span class="st">'x'</span>,<span class="st">'y'</span>,<span class="st">'z'</span>),<span class="at">adj=</span><span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.5</span>),<span class="at">cex=</span><span class="fl">2.5</span>)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="fu">symbols</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fl">1.6</span>),<span class="at">y=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fl">0.9</span>),<span class="at">circles=</span><span class="fu">c</span>(<span class="fl">0.8</span>,<span class="fl">0.7</span>),<span class="at">inches=</span><span class="cn">FALSE</span>,</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">fg=</span><span class="fu">c</span>(<span class="st">'white'</span>,<span class="st">'black'</span>),<span class="at">bg=</span><span class="fu">c</span>(<span class="st">'grey80'</span>,<span class="cn">NA</span>),</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">3</span>),<span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">2</span>),<span class="at">xaxt=</span><span class="st">'n'</span>,<span class="at">yaxt=</span><span class="st">'n'</span>,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="cn">NA</span>,<span class="at">ylab=</span><span class="cn">NA</span>,<span class="at">add=</span><span class="cn">FALSE</span>)</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="fl">0.25</span>,<span class="fl">2.1</span>),<span class="at">y=</span><span class="fu">c</span>(<span class="fl">1.7</span>,<span class="fl">1.7</span>),<span class="at">label=</span><span class="fu">c</span>(<span class="st">'A'</span>,<span class="st">'B'</span>),<span class="at">adj=</span><span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.5</span>),<span class="at">cex=</span><span class="fl">3.5</span>)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="fl">0.8</span>,<span class="fl">1.1</span>,<span class="fl">1.4</span>,<span class="fl">1.9</span>),<span class="at">y=</span><span class="fu">c</span>(<span class="fl">0.7</span>,<span class="fl">1.1</span>,<span class="fl">0.9</span>,<span class="fl">1.0</span>),<span class="at">labels=</span><span class="fu">c</span>(<span class="st">'x'</span>,<span class="st">'y'</span>,<span class="st">'z'</span>,<span class="st">'w'</span>),<span class="at">adj=</span><span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.5</span>),<span class="at">cex=</span><span class="fl">2.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-setbasics" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-setbasics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-setbasics" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-setbasics-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-setbasics-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="sets_files/figure-html/fig-setbasics-1.png" class="img-fluid figure-img" data-ref-parent="fig-setbasics" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-setbasics-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) <span class="math inline">\(x \in \mathcal{A}, y \notin \mathcal{A}\)</span>
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-setbasics" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-setbasics-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-setbasics-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="sets_files/figure-html/fig-setbasics-2.png" class="img-fluid figure-img" data-ref-parent="fig-setbasics" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-setbasics-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) <span class="math inline">\(\mathcal{B} \subseteq \mathcal{A}, \mathcal{A} \subseteq \mathcal{B}\)</span>
</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-setbasics" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-setbasics-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-setbasics-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="sets_files/figure-html/fig-setbasics-3.png" class="img-fluid figure-img" data-ref-parent="fig-setbasics" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-setbasics-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) <span class="math inline">\(\mathcal{B} \subset \mathcal{A}, \mathcal{A} \not\subset \mathcal{B}\)</span>
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-setbasics" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-setbasics-4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-setbasics-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="sets_files/figure-html/fig-setbasics-4.png" class="img-fluid figure-img" data-ref-parent="fig-setbasics" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-setbasics-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(d) <span class="math inline">\(\mathcal{A} \cap \mathcal{B} = \{x,z\}, \mathcal{A} \cup \mathcal{B} = \{w,x,y,z\}\)</span>
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-setbasics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Visualization of set theory basics
</figcaption>
</figure>
</div>
<p>We occasionally find it useful, after defining a set, to also consider every known object not in the set. If an element <span class="math inline">\(x\)</span> does not belong to a set <span class="math inline">\(\mathcal{S}\)</span> then it belongs to “<span class="math inline">\(\mathcal{S}\)</span>-<strong>complement</strong>”, often written <span class="math inline">\(\mathcal{S}^c\)</span>.</p>
<p>Just above, I wrote “every known object”, and that is also a set worth naming. Let us say that we have some way of knowing all the elements which could or could not belong to any given set. This universe of elements is given lots of names, including the <strong>universal set</strong> and also <span class="math inline">\(\Omega\)</span>, Omega, the last letter of the Greek alphabet and therefore literally the ultimate set.</p>
<p>What about a set with no elements at all? Such a thing exists and is often quite useful, just as the number 0 is useful to us despite not doing much. We call it <span class="math inline">\(\emptyset\)</span>, the <strong>empty set</strong> (sometimes just called “null”).</p>
<p>Consider some basic results which flow from these definitions:</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let <span class="math inline">\(\emptyset\)</span> be the empty set, <span class="math inline">\(\mathcal{A}\)</span> be any set, and <span class="math inline">\(\Omega\)</span> be the universal set. Then,</p>
<p><span class="math display">\[\begin{array}{lcllcl}
  \mathcal{A} \cup \mathcal{A}^c &amp;=&amp; \Omega\qquad &amp; \mathcal{A} \cap \mathcal{A}^c &amp;=&amp; \emptyset \\
  \mathcal{A} \cup \emptyset &amp;=&amp; \mathcal{A} &amp; \mathcal{A} \cap \emptyset &amp;=&amp; \emptyset \\
  \mathcal{A} \cup \Omega &amp;=&amp; \Omega &amp; \mathcal{A} \cap \Omega &amp;=&amp; \mathcal{A}
\end{array}\]</span></p>
</div>
</div>
<p>If, for any two sets <span class="math inline">\(\mathcal{A}\)</span> and <span class="math inline">\(\mathcal{B}\)</span>, we know that <span class="math inline">\(\mathcal{A} \cap \mathcal{B} = \emptyset\)</span> then they have no elements in common and we say that the sets are <strong>disjoint</strong>.</p>
</section>
<section id="combinatorics" class="level2">
<h2 class="anchored" data-anchor-id="combinatorics">Combinatorics</h2>
<p>Another part of set theory studies how to arrange and count the elements in a set. We call this topic “combinatorics”.</p>
<p>You may remember a mathematical operation called <strong>factorial</strong>, written with an exclamation mark (!). Its definition for non-negative integers is:</p>
<p><span class="math display">\[x! = x \cdot (x-1) \cdot (x-2) \cdot \ldots \cdot 2 \cdot 1\]</span></p>
<p>So, for example, <span class="math inline">\(3! = 3 \cdot 2 \cdot 1 = 6\)</span>, and <span class="math inline">\(10! = 3\,628\,800\)</span>.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> This operation will be very handy for counting arrangements of objects. Let’s now consider several different situations in which wish to count arrangements. In all of these examples, we will suppose that we have a set <span class="math inline">\(\mathcal{S}\)</span> containing <span class="math inline">\(n\)</span> elements. Sometimes we will be studying arrangements of all <span class="math inline">\(n\)</span> objects, but if we are arranging a different number of objects, I will generally call that other number <span class="math inline">\(k\)</span>.</p>
<section id="ordered-arrangements-without-repetition" class="level3">
<h3 class="anchored" data-anchor-id="ordered-arrangements-without-repetition">Ordered arrangements without repetition</h3>
<p>First, let us consider how many ways we can arrange the <span class="math inline">\(n\)</span> elements of <span class="math inline">\(\mathcal{S}\)</span> in a particular order. For example, let’s say that I am on vacation for five days starting Monday, I have brought five different t-shirts, and I intend to wear a fresh shirt every day. I can select any of the five shirts Monday night. On Tuesday, I can choose from the four remaining shirts. On Wednesday, no matter what I picked Monday and Tuesday, I will have three choices left. On Thursday, two choices. On Friday, only one shirt is left, and I must wear it. Thus I count <span class="math inline">\(5 \cdot 4 \cdot 3 \cdot 2 \cdot 1 = 5! = 120\)</span> shirt arrangements.</p>
</section>
<section id="ordered-arrangements-with-repetition" class="level3">
<h3 class="anchored" data-anchor-id="ordered-arrangements-with-repetition">Ordered arrangements with repetition</h3>
<p>Second, let us consider how many ways we could arrange the elements of <span class="math inline">\(\mathcal{S}\)</span> in a particular order if we now allow repetition. Reconsidering the previous example, what if I were comfortable wearing the same shirt on multiple days, perhaps even every day (yikes)? On Monday, I would have five choices of what to wear. On Tuesday I would also have five choices: I could repeat Monday’s shirt, or choose any of the others — and so on throughout the week. Thus I count <span class="math inline">\(5 \cdot 5 \cdot 5 \cdot 5 \cdot 5 = 5^5 = 3125\)</span> different shirt arrangements.</p>
<p>Furthermore, we can generalize this method to cases where we arrange <span class="math inline">\(k \neq n\)</span> elements of <span class="math inline">\(\mathcal{S}\)</span>: if I were only vacationing for three days but brought five shirts, there would be <span class="math inline">\(5^3=125\)</span> arrangements, or for seven days, <span class="math inline">\(5^7=78\,125\)</span> arrangements.</p>
</section>
<section id="ordered-subsets-without-repetition-permutations" class="level3">
<h3 class="anchored" data-anchor-id="ordered-subsets-without-repetition-permutations">Ordered subsets without repetition (permutations)</h3>
<p>Third, let us consider how to order only a subset of elements, without repetition. Say that I brought five shirts, I wear a fresh shirt every day, but the vacation lasts only three days (perhaps I wanted backups for spills or rain). The calculations proceed as in the first case above: I have five choices on Monday, four choices on Tuesday, and three choices on Wednesday — and then I’m done, and thus I count <span class="math inline">\(5 \cdot 4 \cdot 3 = 60\)</span> shirt arrangements.</p>
<p>Note that <span class="math inline">\(5 \cdot 4 \cdot 3 = (5 \cdot 4 \cdot 3 \cdot 2 \cdot 1)/(2 \cdot 1) = 5!/2!\)</span> or equivalently <span class="math inline">\(5!/(5-3)!\)</span>. We will use this result to show a general form below.</p>
</section>
<section id="unordered-arrangements-without-repetition-combinations" class="level3">
<h3 class="anchored" data-anchor-id="unordered-arrangements-without-repetition-combinations">Unordered arrangements without repetition (combinations)</h3>
<p>Fourth, suppose we no longer care about the order of elements, and only care about which elements are picked or not picked. Perhaps I am packing five shirts for my vacation, and choosing them from my closet which has a total of nine shirts. How many different bags could I create? The bag doesn’t know or care which shirts will be worn on which days… a vacation where I wear the red shirt on Monday will create the same bag as a week where I wear the red shirt on Friday. Using the third case above, we know there are <span class="math inline">\(9!⁄4! = 15\,120\)</span> ways to create an <em>ordered</em> subset of five shirts from a set of nine. But using the first case above, we also know that for any five shirts, there are <span class="math inline">\(5!=120\)</span> ways to order them. Combining this information, we see that each of the <span class="math inline">\(15\,120\)</span> ordered shirt arrangements belongs to a group of <span class="math inline">\(120\)</span> duplicate bags which only differ by their order, so we need to shrink our total by a factor of <span class="math inline">\(120\)</span>, leaving <span class="math inline">\(15\,120⁄120 = (9!/4!)/5! = 9!/((9-5)!5!) = 126\)</span> possible ways to pack my bag.</p>
</section>
<section id="all-possible-unordered-subsets-the-power-set" class="level3">
<h3 class="anchored" data-anchor-id="all-possible-unordered-subsets-the-power-set">All possible unordered subsets (the power set)</h3>
<p>Fifth and finally, let us consider how many possible subsets we could construct, without specifiying size or order. Let us repeat the bag packing question (how many possible bags can I create?), but allowing me to pack any number of the nine shirts (not just five). To answer this question, I will show that it is equivalent to another, simpler question. Consider that each of my nine shirts can either be in or out of the bag. So each possible bag can be thought of as choosing from a set of two elements (“in” and “out”) nine times (once for each shirt), with repetition allowed. Following the logic of our second case we know there will be <span class="math inline">\(2 \cdot 2 \cdot 2 \cdot 2 \cdot 2 \cdot 2 \cdot 2 \cdot 2 \cdot 2 = 2^9 = 512\)</span> possible bags Notice that these bags will include one with all nine shirts, as well as a bag with no shirts at all (double yikes, but mathematically valid).</p>
<p>Let’s review:</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let <span class="math inline">\(\mathcal{S}\)</span> be a set of <span class="math inline">\(n\)</span> elements. Then,</p>
<ul>
<li><p>There are <span class="math inline">\(n!\)</span> ways to arrange the elements of <span class="math inline">\(\mathcal{S}\)</span> in order.</p></li>
<li><p>There are <span class="math inline">\(n^k\)</span> ways to pick <span class="math inline">\(k\)</span> elements of <span class="math inline">\(\mathcal{S}\)</span>, if we allow repetition.</p></li>
<li><p>There are <span class="math inline">\({}_{n}P_k = \frac{n!}{(n-k)!} = n \cdot (n-1) \cdot \ldots \cdot (n-k+1)\)</span> <em>ordered</em> subsets of <span class="math inline">\(\mathcal{S}\)</span> having exactly <span class="math inline">\(k\)</span> elements. These ordered subsets are called <strong>permutations</strong>.</p></li>
<li><p>There are <span class="math inline">\({}_{n}C_k = \frac{n!}{(n-k)!k!}\)</span> <em>unordered</em> subsets of <span class="math inline">\(\mathcal{S}\)</span> having exactly <span class="math inline">\(k\)</span> elements. These unordered subsets are called <strong>combinations</strong>, and in this text we will use <span class="math inline">\(\left(\begin{array}{c} n \\ k \end{array} \right)\)</span> synomously with <span class="math inline">\({}_{n}C_k\)</span>. Statisticians often read this aloud as “n choose k”.</p></li>
<li><p>There are <span class="math inline">\(2^n\)</span> distinct (unordered) subsets of <span class="math inline">\(\mathcal{S}\)</span>, including <span class="math inline">\(\mathcal{S}\)</span> itself and the empty set <span class="math inline">\(\emptyset\)</span>. This set of all possible subsets is called the <strong>power set</strong>.</p></li>
</ul>
</div>
</div>
</section>
</section>
<section id="probability-as-counting-cases" class="level2">
<h2 class="anchored" data-anchor-id="probability-as-counting-cases">Probability as counting cases</h2>
<p>We will soon explore a more formal definition of probability, but learning the combinatorics shown above leads to an immediate payoff: we can use them to calculate probabilities for a specific (yet common) scenario.</p>
<p>We often face a situation in which a finite number of outcomes are all equally likely. For example,</p>
<ul>
<li><p>If we roll two six-sided dice, we have an equal chance of each of 36 ordered results (<em>e.g.</em> Roll #1 is 2 and Roll #2 is 5)</p></li>
<li><p>If we draw five cards from a 52-card deck, we have an equal chance of each of <span class="math inline">\(311\,875\,200\)</span> possible ordered hands, or an equal chance of each of <span class="math inline">\(2\,598\,960\)</span> unordered hands.</p></li>
<li><p>If we split 24 students into six groups of four, there are roughly 4.5 trillion groupings which are each equally likely, if we order neither the groups themselves nor the students within the groups.</p></li>
</ul>
<p>In each of these cases, we can evaluate the probability of certain outcomes by counting the number of cases with the desired attributes and dividing by the number of total cases.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>For any finite set <span class="math inline">\(\mathcal{A}\)</span>, let <span class="math inline">\(n(\mathcal{A})\)</span> be a function which counts the number of elements in <span class="math inline">\(\mathcal{A}\)</span>.</p>
<p>Now consider an experiment with a set of outcomes, <span class="math inline">\(\Omega\)</span>. Exactly one outcome from <span class="math inline">\(\Omega\)</span> must happen, and all outcomes are equally likely to happen. For any subset <span class="math inline">\(\mathcal{A} \subseteq \Omega\)</span>, the <strong>probability</strong> of an outcome belonging to <span class="math inline">\(\mathcal{A}\)</span> can be calculated as: <span class="math display">\[P(\mathcal{A})=\frac{n(\mathcal{A})}{n(\Omega)}\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>The above result is <em>only</em> true for situations with a finite number of equally likely outomes. At the moment, we haven’t learned enough to prove which situations meet that requirement, nor to prove the result is even true: we are proceeding on assumption.</p>
</div>
</div>
<p>From here, we can start to calculate some actual probabilities. Suppose we are dealt five cards from a standard 52-card deck: what is the probability of being dealt exactly one pair (two matched cards and three unmatched cards)?</p>
<ul>
<li><p>This question is complicated, because many pairs are actually part of a more valuable hand: three-of-a-kind, four-of-a-kind, a full house, or two pairs. We don’t wish to count those hands, even though they contain pairs.</p></li>
<li><p>Although order doesn’t matter, suppose that the first and second cards are paired, while the third, fourth, and fifth cards are unmatched. The first card can be anything (52 choices). The second card must be one of the three remaining cards of the same rank (3 choices). The third card can be anything <em>except</em> the rank of the pair (48 choices). The fourth card can be anything except the rank of the pair <em>or</em> the rank of the third card, since that would form a second pair (44 choices). And likewise for the fifth (40 choices).</p></li>
<li><p><span class="math inline">\(52 \cdot 3 \cdot 48 \cdot 44 \cdot 40 = 13\,178\,880\)</span> would describe the number of hands where the first two cards form a pair. But there are other hands with one pair, such as when the first and third cards are paired. In fact there are <span class="math inline">\({}_5C_2 = 5!/(2!3!) = 10\)</span> different ways the pair could be arranged in our hand. So there are in fact <span class="math inline">\(n(\mathcal{A})=131\,788\,800\)</span> ordered hands with exactly one pair.</p></li>
<li><p>That would be among <span class="math inline">\(n(\Omega) = 52 \cdot 51 \cdot 50 \cdot 49 \cdot 48 = 52!/(52 - 5)! = 311\,875\,200\)</span> total ordered hands.</p></li>
<li><p>In which case the probability of exactly one pair is <span class="math inline">\(n(\mathcal{A})/n(\Omega) = 134\,534\,400/311\,875\,200 \approx 42.3\%\)</span></p></li>
</ul>
<p>Let’s try one more example, this time somewhat more relevant to a real-world data science issue. Consider an allegation of discriminatory hiring practices. 15 pilots interviewed for five open positions at an airline. 10 of the 15 candidates were men, but only 2 of the 5 selected pilots are men. One of the rejected male pilots claims that the hiring process was unfair. What do you think?</p>
<ul>
<li><p>There are <span class="math inline">\({}_{10}C_2 = 10!/(2!8!) = 45\)</span> unordered ways to choose 2 men from among 10 male applicants and <span class="math inline">\({}_3C_5 = 5!/(3!2!) = 10\)</span> ways to choose 3 women<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> from among the remaining 5 applicants, so we have <span class="math inline">\(n(\mathcal{A}) = 45 \cdot 10 = 450\)</span>.</p></li>
<li><p>There are <span class="math inline">\(n(\Omega) = {}_15C_5 = 15!/(10!5!) = 3003\)</span> unordered ways to choose 5 pilots from the 15 total applicants.</p></li>
<li><p>In which case, if we assume that the successful pilots were selected at random (or at any rate not on the basis of their sex), the probability of selecting exactly 2 men and 3 women from 10 men and 5 women would be <span class="math inline">\(n(\mathcal{A})/n(\Omega) = 450/3003 \approx 15.0\%\)</span>.</p></li>
<li><p>It might be useful to also contemplate the case of picking only one male candidate, or zero male candidates. Using similar calculations, the cumulative probability of picking “so few or fewer” male candidates under an assumption of equal probability would be <span class="math inline">\(501/3003 \approx 16.7\%\)</span></p></li>
</ul>
<p>At the end of the day we cannot tell whether the hiring process was fair or unfair. But we can say that an impartial hiring process which was blind to pilot sex would reach a similar outcome (or a more extreme outcome!) roughly <span class="math inline">\(16.7\%\)</span> of the time.</p>
<div class="{.callout=&quot;tip&quot;}">
<p>Notice how in the first example, I found it easier to count ordered cases, while in the second example I found it easier to count unordered cases. As long as both my numerator and denominator are consistent, the answer will come out the same.</p>
</div>
</section>
<section id="putting-it-into-practice" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="putting-it-into-practice">Putting it into practice</h2>
<p>At the end of each chapter I will provide some R code snippets to help put the concepts into practice, as well as sample problems (and their solutions!) to help you test your own comprehension of the material.</p>
<section id="code-examples" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="code-examples">Code examples</h3>
<section id="set-theory" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="set-theory">Set theory</h4>
<p>Set theory is so basic that it’s all around us. For example, when we filter a dataset, or when we merge two different datasets, we are choosing intersections and unions from sets where each element is a row of data. The following functions are rarely used in R, but do directly implement the concepts learned above.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.element</span>(<span class="st">'j'</span>,letters)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.element</span>(<span class="fu">c</span>(<span class="st">'a'</span>,<span class="st">'B'</span>,<span class="st">'c'</span>),letters)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE  TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">union</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">intersect</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4 5 6 7 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setequal</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">9</span>),<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">9</span>,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
<section id="combinatorics-1" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="combinatorics-1">Combinatorics</h4>
<p>Sometimes our combinatorics problems cannot be solved with easy helper functions, because of special constraints to the problem. However, the following functions will often come in handy. Note the addition of a custom function for permutations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factorial</span>(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 24</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factorial</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]   1   2   6  24 120</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">choose</span>(<span class="at">n=</span><span class="dv">10</span>,<span class="at">k=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 120</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>permute <span class="ot">&lt;-</span> <span class="cf">function</span>(n,k) <span class="fu">factorial</span>(n)<span class="sc">/</span><span class="fu">factorial</span>(n<span class="sc">-</span>k)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">permute</span>(<span class="at">n=</span><span class="dv">10</span>,<span class="at">k=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 720</code></pre>
</div>
</div>
</section>
</section>
<section id="exercises-and-solutions" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="exercises-and-solutions">Exercises and solutions</h3>
<ol type="1">
<li>Earlier, I calculated the probability that a five-card hand from a standard deck contains exactly one pair. I counted ordered hands to find the answer, though order doesn’t matter. Try to find an unordered solution, which should arrive at the same answer.</li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution (theoretical)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>There are 13 ways to choose the rank of the pair, <span class="math inline">\({}_4{C}_2\)</span> ways to choose the two suits of that rank which will form the pair, <span class="math inline">\({}_{12}{C}_3\)</span> ways to choose the three different ranks of the remaining cards, and four choices of suit for each of them. <span class="math display">\[\frac{13 \cdot {}_4{C}_2 \cdot {}_{12}{C}_3 \cdot 4^3}{{}_{52}{C}_5} \approx 42.3\%\]</span></p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span><span class="sc">*</span><span class="fu">choose</span>(<span class="dv">4</span>,<span class="dv">2</span>)<span class="sc">*</span><span class="fu">choose</span>(<span class="dv">12</span>,<span class="dv">3</span>)<span class="sc">*</span><span class="dv">4</span><span class="sc">^</span><span class="dv">3</span><span class="sc">/</span><span class="fu">choose</span>(<span class="dv">52</span>,<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Assume that birthdays are evenly distributed across a 365-day (non-leap) year. In a classroom of 23 students, what is the probability that at least two of them share a birthday?</li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution (theoretical)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>There are so many ways in which two or more students <em>could</em> share birthdays that it will be easier for us to consider the complement: how many ways students could <em>not</em> share any birthdays. Clearly, the first student can have any birthday, but the second will only have 364 qualifying options, etc. <span class="math display">\[P(A) = 1 - P(A^c) = 1 - \frac{{}_{365}P_{23}}{365^{23}} = 1 - \frac{365 \cdot 364 \cdot \ldots \cdot 343}{365^{23}} \approx 50.7\%\]</span> This is sometimes known as the birthday “paradox”, as it may surprise you that such a small classroom would most likely contain a shared birthday.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">-</span><span class="fu">prod</span>(<span class="dv">365</span><span class="sc">:</span><span class="dv">343</span>)<span class="sc">/</span><span class="dv">365</span><span class="sc">^</span><span class="dv">23</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>In 1919, the statistician Ronald Fisher heard his colleague, the phycologist Muriel Bristol, claim that she could tell whether milk was added to hot tea, or whether the tea was poured directly onto milk. Fisher tested her by pouring eight cups of tea, four one way and four the other, and serving them to her in a random order which she was able to identify with complete accuracy. If Bristol knew that there were four cups of each type, what would be the probability that she identified them all correctly by chance alone?</li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution (theoretical)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This one’s quite simple! There are <span class="math inline">\({}_8C_4 = 70\)</span> ways to arrange the four milk-first cups among the eight total cups, and if Dr.&nbsp;Bristol had been guessing at random she would have selected each arrangement with equal probability, and so would have chosen the right arrangement with only <span class="math inline">\(1/70 \approx 1.4\%\)</span> probability.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">/</span><span class="fu">choose</span>(<span class="dv">8</span>,<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>How would the problem above change if Muriel Bristol had not known there were four cups of each type?</li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Solution (theoretical)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Without knowing in advance how many cups had milk poured first, Bristol would have been guessing blindly on each new cup, with her guesses for the first few cups providing no information on the latter cups. The experiment now allows <span class="math inline">\(2^8=256\)</span> possible cup sequences, with only one being correct, so if she were guessing at random then a perfect score would only occur with probability <span class="math inline">\(1/256 \approx 0.4\%\)</span>.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">/</span><span class="dv">2</span><span class="sc">^</span><span class="dv">8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Notice how quickly these grow: even modern distributed computing has a hard time with large factorials.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Or non-binary pilots!<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>